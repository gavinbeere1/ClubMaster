<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
 <title>Spring Boot - AJAX POST GET Example</title>
	  <meta charset="utf-8" />
	  <meta name="viewport" content="width=device-width, initial-scale=1" />
	  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css"/>
	  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
      <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
	  <script src="/js/postrequest.js"></script>
      <script src="/js/getrequest.js"></script>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
</head>
<form th:action="@{/logout}" method="post">
         <input type="submit" value="Sign Out"/>
     </form>
<body>
<p th:inline="text">
      You are logged as: <b>[[${#httpServletRequest.remoteUser}]]</b>
      (<a href="/logout">logout</a>)
    </p>

<div>
<center>
	<h3>Player</h3>
			
		 <img th:src="@{${'/images/' + image}}"  />
	<h4>Email: <text th:text="${player.userName}" /> </h4>
	<h4>Name: <text th:text="${player.firstName}" /> </h4>
	<h4>Surname: <text th:text="${player.lastName}" /> </h4>
	<h4>Phone: <text th:text="${player.phone}" /> </h4>
	<h4>Address: <text th:text="${player.address}" /> </h4>
	<h4>Member of team: <text th:text="${player.position}" /> </h4>
	<h4>Position: <text th:text="${player?.playerinfo?.position}" /> </h4>
	
    <input id="do-some-action2" type="button" value="Invite Player To Join" />

 	
 	             <br />                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             
 	
	   <a style="color:blue" th:href="@{/welcome}">HomeScreen!</a>
	   
</center>	   
	   
	  


	
</div>
<!-- Javascript functions -->
    <script th:inline="javascript">

    /**
       * Send an action to the server.
       */
      function sendAction(event) {
        event.preventDefault();

        /*<![CDATA[*/

        var name = /*[[${player.userName}]]*/ 'default';
        alert("You are about to send a request to this teams manager which can not be reversed.\nClick Ok to proceed.");

    /*]]>*/

        $.ajax({
          url: "/some-action2",
          type: "POST",
          data: { firstName: name } 
        });
        return;
      } // function sendAction
      
      /**
       * Init operations.
       */
      $(document).ready(function() {
    	
        // Bind the on-click event for the button element.
        $("#do-some-action2").on("click", sendAction);
        
      });

    </script>

</body>
</html>